<html lang="eng">
<head>
    <title>Visualiser WebGL</title>
    <script type="text/javascript" src="Vector3.js"></script>
    <script type="text/javascript" src="Vector4.js"></script>
    <script type="text/javascript" src="Matrix3.js"></script>
    <script type="text/javascript" src="Matrix4.js"></script>
    <script type="text/javascript" src="Cilindro.js"></script>
    <script type="text/javascript" src="Cono.js"></script>
    <script type="text/javascript" src="Dodecaedro.js"></script>
    <script type="text/javascript" src="Esfera.js"></script>
    <script type="text/javascript" src="Icosaedro.js"></script>
    <script type="text/javascript" src="Octaedro.js"></script>-->
    <script type="text/javascript" src="PrismaRectangular.js"></script>
    <script type="text/javascript" src="Tetraedro.js"></script>
    <script type="text/javascript" src="Toro.js"></script>
    <script type="text/javascript" src="Main.js"></script>
</head>
<body>
<canvas id="the_canvas" width="800" height="600"></canvas>

<script id="2d-vertex-shader" type="vertex-shader">
    precision mediump float;

    attribute vec4 a_position;
    attribute vec4 a_color;
    attribute vec3 a_normal;

    uniform mat4 u_PVM_matrix;
    uniform mat4 u_VM_matrix;

    uniform vec3 u_light_position;

    varying vec3 v_position;
    varying vec4 v_color;
    varying vec3 v_normal;

    void main() {
      v_position = vec3( u_VM_matrix * a_position );
      v_normal = vec3( u_VM_matrix * vec4(a_normal, 0) );
      v_color = a_color;

      gl_Position = u_PVM_matrix * a_position;
    }
  </script>
  <script id="2d-fragment-shader" type="fragment-shader">
   precision mediump float;

    uniform vec3 u_light_position;

    varying vec3 v_position;
    varying vec4 v_color;
    varying vec3 v_normal;

    void main() {
      vec3 to_light = normalize( u_light_position - v_position );
      vec3 fragment_normal = normalize(v_normal);

      float cos_angle = max(dot(fragment_normal, to_light), 0.0);

      gl_FragColor = vec4(vec3(v_color) * cos_angle, v_color.a);
    }
  </script>
</body>
</html>